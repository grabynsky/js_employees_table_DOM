{"version":3,"sources":["scripts/main.js"],"names":["tHead","document","querySelector","tBody","sortOrder","sortHeader","form","createElement","classList","add","body","append","citiesOptions","formInputs","addInput","inputName","inputType","label","input","innerText","type","name","toLowerCase","dataset","qa","after","select","city","Option","button","saveDataToTable","data","tr","innerHTML","position","office","age","Number","salary","toLocaleString","normalizeNumber","number","newNumber","includes","replace","toggleSelect","toggle","singleSelect","querySelectorAll","forEach","item","remove","checkValidation","match","length","pushNotification","addEventListener","e","toSort","target","cellIndex","forSortedTable","children","sort","a","b","contentA","cells","contentB","localeCompare","closest","ctrlKey","metaKey","preventDefault","Object","fromEntries","FormData","entries","reset","title","description","messageConteiner","messageTitle","messageDescription","textContent","setTimeout","initialValue","focus","isString","isName","isOffice","isAge","isSalary","changeCellContent","value","saveEditedField","toString","onblur","onkeydown","keyboardEvent","code"],"mappings":"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","file":"main.66960017.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tHead = document.querySelector('thead');\nconst tBody = document.querySelector('tbody');\nlet sortOrder = '';\nlet sortHeader = null;\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\ndocument.body.append(form);\n\nconst citiesOptions = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\nconst formInputs = [\n  ['Name', 'text'],\n  ['Position', 'text'],\n  ['Age', 'number'],\n  ['Salary', 'number'],\n];\n\nfunction addInput(inputName, inputType) {\n  const label = document.createElement('label');\n  const input = document.createElement('input');\n\n  label.innerText = inputName + ': ';\n  input.type = inputType;\n  input.name = inputName.toLowerCase();\n  input.dataset.qa = inputName.toLowerCase();\n\n  label.append(input);\n\n  return label;\n};\n\nfor (const [input, type] of formInputs) {\n  form.append(addInput(input, type));\n};\n\nform.querySelector(':nth-child(2)').after((() => {\n  const label = document.createElement('label');\n  const select = document.createElement('select');\n\n  label.innerText = 'Office: ';\n  select.name = 'office';\n  select.dataset.qa = 'office';\n\n  for (const city of citiesOptions) {\n    select.append(new Option(city));\n  }\n\n  label.append(select);\n\n  return label;\n})());\n\nconst button = document.createElement('button');\n\nbutton.type = 'submit';\nbutton.innerText = 'Save to table';\n\nform.append(button);\n\nfunction saveDataToTable(data) {\n  const tr = document.createElement('tr');\n\n  tr.innerHTML = `\n    <td>${data.name}</td>\n    <td>${data.position}</td>\n    <td>${data.office}</td>\n    <td>${data.age}</td>\n    <td>$${Number(data.salary).toLocaleString('en-US')}</td>\n  `;\n\n  tBody.append(tr);\n};\n\nfunction normalizeNumber(number) {\n  let newNumber;\n\n  if (number.includes('$')) {\n    newNumber = number.replace(/[$,]/g, '');\n  } else {\n    newNumber = number;\n  }\n\n  return newNumber;\n};\n\ntHead.addEventListener('click', (e) => {\n  const toSort = e.target.cellIndex;\n  const target = e.target;\n\n  if (sortHeader !== target) {\n    sortOrder = 'ASC';\n    sortHeader = target;\n  } else {\n    sortOrder = 'DESC';\n    sortHeader = null;\n  }\n\n  const forSortedTable = [...tBody.children].sort((a, b) => {\n    const contentA = a.cells[toSort].innerText;\n    const contentB = b.cells[toSort].innerText;\n\n    if (sortOrder === 'ASC') {\n      return (contentA.includes('$')) === false\n        ? contentA.localeCompare(contentB)\n        : normalizeNumber(contentA) - normalizeNumber(contentB);\n    } else {\n      return (contentA.includes('$')) === false\n        ? contentB.localeCompare(contentA)\n        : normalizeNumber(contentB) - normalizeNumber(contentA);\n    }\n  });\n\n  tBody.append(...forSortedTable);\n});\n\nfunction toggleSelect(tr) {\n  tr.classList.toggle('active');\n};\n\nfunction singleSelect(tr) {\n  const selectedItems = tBody.querySelectorAll('.active');\n\n  selectedItems.forEach((item) => {\n    item.classList.remove('active');\n  });\n\n  tr.classList.add('active');\n};\n\ntBody.addEventListener('click', (e) => {\n  const target = e.target.closest('tr');\n\n  if (e.ctrlKey || e.metaKey) {\n    toggleSelect(target);\n  } else {\n    singleSelect(target);\n  }\n});\n\nfunction checkValidation(data) {\n  if (!data.name.match(/^[a-zA-Z ]*$/g)) {\n    pushNotification('Invalid data',\n      'Only English allowed!',\n      'error');\n\n    return false;\n  }\n\n  if (data.name.length < 4) {\n    pushNotification('Invalid name',\n      'Name is too short, enter the correct one!',\n      'error');\n\n    return false;\n  }\n\n  if (data.age < 18 || data.age > 90) {\n    pushNotification('Invalid age',\n      'Enter the correct age!',\n      'error');\n\n    return false;\n  }\n\n  if (data.position === '' || data.salary === '') {\n    pushNotification('Missing data',\n      'Please, fill all fields!',\n      'error');\n\n    return false;\n  }\n\n  pushNotification('Great!',\n    'New employee successfully added!',\n    'success'\n  );\n\n  return true;\n};\n\n// ------------------------------------------------------\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const data = Object.fromEntries(new FormData(form).entries());\n\n  if (!checkValidation(data)) {\n    return;\n  }\n\n  saveDataToTable(data);\n  form.reset();\n});\n\nconst pushNotification = (title, description, type) => {\n  const messageConteiner = document.createElement('div');\n  const messageTitle = document.createElement('h2');\n  const messageDescription = document.createElement('p');\n\n  document.body.append(messageConteiner);\n  messageConteiner.append(messageTitle);\n  messageConteiner.append(messageDescription);\n  messageConteiner.classList.add('notification', type);\n  messageConteiner.classList.add(`${type}`);\n  messageConteiner.dataset.qa = 'notification';\n  messageTitle.classList.add('title');\n  messageTitle.textContent = title;\n  messageDescription.textContent = description;\n\n  setTimeout(() => messageConteiner.remove(), 3000);\n};\n\ntBody.addEventListener('dblclick', (e) => {\n  const target = e.target;\n  const input = document.createElement('input');\n  const initialValue = target.innerText;\n\n  input.classList.add('cell-input');\n  input.type = 'text';\n  input.name = 'cellInput';\n  target.innerText = '';\n  target.append(input);\n  input.focus();\n\n  const isString = target.cellIndex === 0\n    || target.cellIndex === 1;\n  const isName = target.cellIndex === 0;\n  const isOffice = target.cellIndex === 2;\n  const isAge = target.cellIndex === 3;\n  const isSalary = target.cellIndex === 4;\n\n  function changeCellContent(value = initialValue) {\n    target.innerText = value;\n    input.remove();\n  }\n\n  function saveEditedField() {\n    if (!input.value) {\n      changeCellContent();\n\n      return;\n    }\n\n    if ((isAge || isSalary) && !input.value.match(/[0-9]/)) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isString && input.value.match(/[0-9]/)) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isSalary && input.value.match(/[0-9]/)) {\n      changeCellContent('$' + input.value\n        .toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','));\n\n      return;\n    }\n\n    if (isName && input.value.length < 4) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isName && !input.value.match(/^[a-zA-Z ]*$/g)) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isAge && (+input.value < 18 || +input.value > 90)) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isOffice && !citiesOptions.includes(input.value)) {\n      changeCellContent();\n\n      return;\n    }\n\n    changeCellContent(input.value);\n  }\n\n  input.onblur = () => {\n    saveEditedField();\n  };\n\n  input.onkeydown = (keyboardEvent) => {\n    const isEnter = keyboardEvent.code === 'Enter';\n\n    if (isEnter) {\n      saveEditedField();\n    }\n  };\n});\n"]}